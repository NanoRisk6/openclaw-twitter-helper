#!/bin/zsh
set -euo pipefail
SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"
FIRST_ARG="${1:-}"

# If caller passed a real subcommand, forward directly.
case "$FIRST_ARG" in
  setup|auth-login|doctor|app-settings|walkthrough|openclaw-status|check-auth|post|openclaw-autopost|openclaw|thread|run-twitter-helper)
    exec python3 "$SCRIPT_DIR/src/twitter_helper.py" "$@"
    ;;
  *)
    # Otherwise use the one-command workflow by default.
    exec python3 "$SCRIPT_DIR/src/twitter_helper.py" run-twitter-helper "$@"
    ;;
esac
